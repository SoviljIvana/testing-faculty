{"ast":null,"code":"var _jsxFileName = \"C:\\\\MuseumAPP\\\\museum project- faks\\\\MuseumApp\\\\MuseumApp.React\\\\museum\\\\src\\\\components\\\\MuseumAction\\\\AddMuseum.jsx\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { FormGroup, FormControl, Button, Container, Row, Col } from 'react-bootstrap';\nimport { NotificationManager } from 'react-notifications';\nimport { serviceConfig } from '../../AppSettings';\n\nclass AddMuseum extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      museumId: 0,\n      name: '',\n      streetAndNumber: '',\n      city: '',\n      email: '',\n      phoneNumber: '',\n      submitted: false,\n      canSubmit: true\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const {\n      id,\n      value\n    } = e.target;\n    this.setState({\n      [id]: value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      submitted: true\n    });\n    const {\n      name,\n      streetAndNumber,\n      city\n    } = this.state;\n\n    if (name && streetAndNumber && city) {\n      this.newMuseum();\n    } else {\n      NotificationManager.error('Popunite polje podacima.');\n      this.setState({\n        submitted: false\n      });\n    }\n  }\n\n  newMuseum() {\n    const {\n      museumId,\n      name,\n      streetAndNumber,\n      city,\n      email,\n      phoneNumber\n    } = this.state;\n    const data = {\n      MuseumId: +museumId,\n      StreetAndNumber: streetAndNumber,\n      City: city,\n      Email: email,\n      Name: name,\n      PhoneNumber: phoneNumber\n    };\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n      },\n      body: JSON.stringify(data)\n    };\n    fetch(`${serviceConfig.baseURL}/api/museums/post`, requestOptions).then(response => {\n      if (!response.ok) {\n        return Promise.reject(response);\n      }\n\n      return response.statusText;\n    }).then(result => {\n      NotificationManager.success('Uspešno dodat novi muzej!');\n      this.props.history.push('ShowAllMuseums');\n    }).catch(response => {\n      NotificationManager.error(response.message || response.statusText);\n      this.setState({\n        submitted: false\n      });\n    });\n  }\n\n  render() {\n    const {\n      museumId,\n      name,\n      streetAndNumber,\n      city,\n      email,\n      phoneNumber,\n      canSubmit,\n      submitted\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      id: \"museumId\",\n      type: \"number\",\n      placeholder: \"id muzeja\",\n      value: museumId,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      id: \"name\",\n      type: \"text\",\n      placeholder: \"naziv\",\n      value: name,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      id: \"streetAndNumber\",\n      type: \"text\",\n      placeholder: \"ulica i broj\",\n      value: streetAndNumber,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      id: \"city\",\n      type: \"text\",\n      placeholder: \"grad\",\n      value: city,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      id: \"email\",\n      type: \"text\",\n      placeholder: \"email\",\n      value: email,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      id: \"phoneNumber\",\n      type: \"text\",\n      placeholder: \"broj telefona\",\n      value: phoneNumber,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      type: \"submit\",\n      disabled: submitted || !canSubmit,\n      block: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 29\n      }\n    }, \"Dodaj muzej\")))));\n  }\n\n}\n\nexport default withRouter(AddMuseum);","map":{"version":3,"sources":["C:/MuseumAPP/museum project- faks/MuseumApp/MuseumApp.React/museum/src/components/MuseumAction/AddMuseum.jsx"],"names":["React","withRouter","FormGroup","FormControl","Button","Container","Row","Col","NotificationManager","serviceConfig","AddMuseum","Component","constructor","props","state","museumId","name","streetAndNumber","city","email","phoneNumber","submitted","canSubmit","handleChange","bind","handleSubmit","e","id","value","target","setState","preventDefault","newMuseum","error","data","MuseumId","StreetAndNumber","City","Email","Name","PhoneNumber","requestOptions","method","headers","localStorage","getItem","body","JSON","stringify","fetch","baseURL","then","response","ok","Promise","reject","statusText","result","success","history","push","catch","message","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { FormGroup, FormControl, Button, Container, Row, Col, } from 'react-bootstrap';\r\nimport { NotificationManager } from 'react-notifications';\r\nimport { serviceConfig } from '../../AppSettings';\r\n\r\nclass AddMuseum extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            museumId: 0,\r\n            name: '',\r\n            streetAndNumber: '',\r\n            city: '',\r\n            email: '',\r\n            phoneNumber: '',\r\n            submitted: false,\r\n            canSubmit: true\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(e) {\r\n        const { id, value } = e.target;\r\n        this.setState({ [id]: value });\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.setState({ submitted: true });\r\n        const { name, streetAndNumber, city} = this.state;\r\n        if ( name && streetAndNumber && city) {\r\n            this.newMuseum();\r\n        } else {\r\n            NotificationManager.error('Popunite polje podacima.');\r\n            this.setState({ submitted: false });\r\n        }\r\n    }\r\n\r\n    newMuseum() {\r\n\r\n        const {museumId, name, streetAndNumber, city, email, phoneNumber} = this.state;\r\n        const data = {\r\n            MuseumId: +museumId,\r\n            StreetAndNumber: streetAndNumber,\r\n            City: city,\r\n            Email: email,\r\n            Name: name,\r\n            PhoneNumber: phoneNumber\r\n        };\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n            },\r\n           \r\n            body: JSON.stringify(data)\r\n        };\r\n\r\n        fetch(`${serviceConfig.baseURL}/api/museums/post`, requestOptions)\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    return Promise.reject(response);\r\n                }\r\n                return response.statusText;\r\n            })\r\n            .then(result => {\r\n                NotificationManager.success('Uspešno dodat novi muzej!');\r\n                this.props.history.push('ShowAllMuseums');\r\n            })\r\n\r\n            .catch(response => {\r\n                NotificationManager.error(response.message || response.statusText);\r\n                this.setState({ submitted: false });\r\n            });\r\n    }\r\n\r\n\r\n    render() {\r\n        const { museumId, name, streetAndNumber, city, email, phoneNumber, canSubmit , submitted} = this.state;\r\n        return (\r\n            <Container>\r\n                <Row>\r\n                    <Col>\r\n                        <form onSubmit={this.handleSubmit}>\r\n                        <FormGroup>\r\n                                <FormControl\r\n                                    id=\"museumId\"\r\n                                    type=\"number\"\r\n                                    placeholder=\"id muzeja\"\r\n                                    value={museumId}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </FormGroup>  \r\n                            <FormGroup>\r\n                                <FormControl\r\n                                    id=\"name\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"naziv\"\r\n                                    value={name}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </FormGroup>                         \r\n                            <FormGroup>\r\n                                <FormControl\r\n                                    id=\"streetAndNumber\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"ulica i broj\"\r\n                                    value={streetAndNumber}\r\n                                    onChange={this.handleChange}\r\n                                    \r\n                                />\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                                <FormControl\r\n                                    id=\"city\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"grad\"\r\n                                    value={city}\r\n                                    onChange={this.handleChange}\r\n                                    \r\n                                />\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                                <FormControl\r\n                                    id=\"email\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"email\"\r\n                                    value={email}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                                <FormControl\r\n                                    id=\"phoneNumber\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"broj telefona\"\r\n                                    value={phoneNumber}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </FormGroup>\r\n                            <Button  variant=\"danger\" type=\"submit\" disabled={submitted || !canSubmit} block>Dodaj muzej</Button>\r\n                        </form>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(AddMuseum);"]},"metadata":{},"sourceType":"module"}