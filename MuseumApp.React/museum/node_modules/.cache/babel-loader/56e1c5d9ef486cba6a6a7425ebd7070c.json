{"ast":null,"code":"var _jsxFileName = \"C:\\\\MuseumAPP\\\\museum project- faks\\\\MuseumApp\\\\MuseumApp.React\\\\museum\\\\src\\\\components\\\\AuditoriumActions\\\\AddAuditorium.jsx\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { FormGroup, FormControl, Button, Container, Row, Col } from 'react-bootstrap';\nimport { NotificationManager } from 'react-notifications';\nimport { serviceConfig } from '../../AppSettings';\n\nclass AddAuditorium extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auditoriumId: '',\n      museumId: '',\n      nameOfAuditorium: '',\n      numberOfSeats: '',\n      submitted: false,\n      canSubmit: true\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const {\n      id,\n      value\n    } = e.target;\n    this.setState({\n      [id]: value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      submitted: true\n    });\n    const {\n      numberOfSeats,\n      nameOfAuditorium\n    } = this.state;\n\n    if (numberOfSeats && nameOfAuditorium) {\n      this.newAuditorium();\n    } else {\n      NotificationManager.error('Molim vas popunite polje.');\n      this.setState({\n        submitted: false\n      });\n    }\n  }\n\n  newAuditorium() {\n    const {\n      auditoriumId,\n      nameOfAuditorium,\n      museumId,\n      numberOfSeats\n    } = this.state;\n    const data = {\n      AuditoriumId: +auditoriumId,\n      NameOfAuditorium: nameOfAuditorium,\n      MuseumId: +museumId,\n      NumberOfSeats: +numberOfSeats\n    };\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n      },\n      body: JSON.stringify(data)\n    };\n    fetch(`${serviceConfig.baseURL}/api/auditoriums/post`, requestOptions).then(response => {\n      if (!response.ok) {\n        return Promise.reject(response);\n      }\n\n      return response.statusText;\n    }).then(result => {\n      NotificationManager.success('Uspešno je dodata nova sala!');\n      this.props.history.push('ShowAllAuditoriums');\n    }).catch(response => {\n      NotificationManager.error(response.message || response.statusText);\n      this.setState({\n        submitted: false\n      });\n    });\n  }\n\n  render() {\n    const {\n      numberOfSeats,\n      submitted,\n      nameOfAuditorium,\n      museumId,\n      auditoriumId,\n      canSubmit\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      id: \"nameOfAuditorium\",\n      type: \"text\",\n      placeholder: \"naziv sale\",\n      value: nameOfAuditorium,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      id: \"numberOfSeats\",\n      type: \"number\",\n      placeholder: \"broj sedi\\u0161ta\",\n      value: numberOfSeats,\n      onChange: this.handleChange,\n      max: \"36\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      id: \"museumId\",\n      type: \"number\",\n      placeholder: \"id muzeja\",\n      value: museumId,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      id: \"auditoriumId\",\n      type: \"number\",\n      placeholder: \"id sale\",\n      value: auditoriumId,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      type: \"submit\",\n      disabled: submitted || !canSubmit,\n      block: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 29\n      }\n    }, \"Dodaj salu\")))));\n  }\n\n}\n\nexport default withRouter(AddAuditorium);","map":{"version":3,"sources":["C:/MuseumAPP/museum project- faks/MuseumApp/MuseumApp.React/museum/src/components/AuditoriumActions/AddAuditorium.jsx"],"names":["React","withRouter","FormGroup","FormControl","Button","Container","Row","Col","NotificationManager","serviceConfig","AddAuditorium","Component","constructor","props","state","auditoriumId","museumId","nameOfAuditorium","numberOfSeats","submitted","canSubmit","handleChange","bind","handleSubmit","e","id","value","target","setState","preventDefault","newAuditorium","error","data","AuditoriumId","NameOfAuditorium","MuseumId","NumberOfSeats","requestOptions","method","headers","localStorage","getItem","body","JSON","stringify","fetch","baseURL","then","response","ok","Promise","reject","statusText","result","success","history","push","catch","message","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,SAAT,EAAoBC,WAApB,EAAiCC,MAAjC,EAAyCC,SAAzC,EAAoDC,GAApD,EAAyDC,GAAzD,QAAqE,iBAArE;AACA,SAASC,mBAAT,QAAoC,qBAApC;AACA,SAASC,aAAT,QAA8B,mBAA9B;;AAEA,MAAMC,aAAN,SAA4BV,KAAK,CAACW,SAAlC,CAA4C;AAExCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAE,EADL;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTC,MAAAA,gBAAgB,EAAE,EAHT;AAITC,MAAAA,aAAa,EAAE,EAJN;AAKTC,MAAAA,SAAS,EAAE,KALF;AAMTC,MAAAA,SAAS,EAAE;AANF,KAAb;AASA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAEDD,EAAAA,YAAY,CAACG,CAAD,EAAI;AACZ,UAAM;AAAEC,MAAAA,EAAF;AAAMC,MAAAA;AAAN,QAAgBF,CAAC,CAACG,MAAxB;AACA,SAAKC,QAAL,CAAc;AAAE,OAACH,EAAD,GAAMC;AAAR,KAAd;AACH;;AAEDH,EAAAA,YAAY,CAACC,CAAD,EAAI;AACZA,IAAAA,CAAC,CAACK,cAAF;AACA,SAAKD,QAAL,CAAc;AAAET,MAAAA,SAAS,EAAE;AAAb,KAAd;AACA,UAAM;AAAED,MAAAA,aAAF;AAAkBD,MAAAA;AAAlB,QAAuC,KAAKH,KAAlD;;AACA,QAAII,aAAa,IAAID,gBAArB,EAAuC;AACnC,WAAKa,aAAL;AACH,KAFD,MAEO;AACHtB,MAAAA,mBAAmB,CAACuB,KAApB,CAA0B,2BAA1B;AACA,WAAKH,QAAL,CAAc;AAAET,QAAAA,SAAS,EAAE;AAAb,OAAd;AACH;AACJ;;AAEDW,EAAAA,aAAa,GAAG;AACZ,UAAM;AAACf,MAAAA,YAAD;AAAeE,MAAAA,gBAAf;AAAkCD,MAAAA,QAAlC;AAA4CE,MAAAA;AAA5C,QAA8D,KAAKJ,KAAzE;AACA,UAAMkB,IAAI,GAAG;AACTC,MAAAA,YAAY,EAAE,CAAClB,YADN;AAETmB,MAAAA,gBAAgB,EAAEjB,gBAFT;AAGTkB,MAAAA,QAAQ,EAAE,CAACnB,QAHF;AAIToB,MAAAA,aAAa,EAAE,CAAClB;AAJP,KAAb;AAOA,UAAMmB,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,MADW;AAGnBC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiB,YAAYC,YAAY,CAACC,OAAb,CAAqB,KAArB;AAFxB,OAHU;AAOnBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeZ,IAAf;AAPa,KAAvB;AAUAa,IAAAA,KAAK,CAAE,GAAEpC,aAAa,CAACqC,OAAQ,uBAA1B,EAAkDT,cAAlD,CAAL,CACKU,IADL,CACUC,QAAQ,IAAI;AACd,UAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AACd,eAAOC,OAAO,CAACC,MAAR,CAAeH,QAAf,CAAP;AACH;;AACD,aAAOA,QAAQ,CAACI,UAAhB;AACH,KANL,EAOKL,IAPL,CAOUM,MAAM,IAAI;AACZ7C,MAAAA,mBAAmB,CAAC8C,OAApB,CAA4B,8BAA5B;AACA,WAAKzC,KAAL,CAAW0C,OAAX,CAAmBC,IAAnB,CAAwB,oBAAxB;AACH,KAVL,EAYKC,KAZL,CAYWT,QAAQ,IAAI;AACfxC,MAAAA,mBAAmB,CAACuB,KAApB,CAA0BiB,QAAQ,CAACU,OAAT,IAAoBV,QAAQ,CAACI,UAAvD;AACA,WAAKxB,QAAL,CAAc;AAAET,QAAAA,SAAS,EAAE;AAAb,OAAd;AACH,KAfL;AAgBH;;AAGDwC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAGzC,MAAAA,aAAH;AAAkBC,MAAAA,SAAlB;AAA8BF,MAAAA,gBAA9B;AAAgDD,MAAAA,QAAhD;AAA0DD,MAAAA,YAA1D;AAAwEK,MAAAA;AAAxE,QAAsF,KAAKN,KAAjG;AACA,wBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,QAAQ,EAAE,KAAKS,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,WAAD;AACI,MAAA,EAAE,EAAC,kBADP;AAEI,MAAA,IAAI,EAAC,MAFT;AAGI,MAAA,WAAW,EAAC,YAHhB;AAII,MAAA,KAAK,EAAEN,gBAJX;AAKI,MAAA,QAAQ,EAAE,KAAKI,YALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAUI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,WAAD;AACI,MAAA,EAAE,EAAC,eADP;AAEI,MAAA,IAAI,EAAC,QAFT;AAGI,MAAA,WAAW,EAAC,mBAHhB;AAII,MAAA,KAAK,EAAEH,aAJX;AAKI,MAAA,QAAQ,EAAE,KAAKG,YALnB;AAMI,MAAA,GAAG,EAAC,IANR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAVJ,eAoBI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,WAAD;AACI,MAAA,EAAE,EAAC,UADP;AAEI,MAAA,IAAI,EAAC,QAFT;AAGI,MAAA,WAAW,EAAC,WAHhB;AAII,MAAA,KAAK,EAAEL,QAJX;AAKI,MAAA,QAAQ,EAAE,KAAKK,YALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CApBJ,eA8BI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,WAAD;AACI,MAAA,EAAE,EAAC,cADP;AAEI,MAAA,IAAI,EAAC,QAFT;AAGI,MAAA,WAAW,EAAC,SAHhB;AAII,MAAA,KAAK,EAAEN,YAJX;AAKI,MAAA,QAAQ,EAAE,KAAKM,YALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CA9BJ,eAwCI,oBAAC,MAAD;AAAS,MAAA,OAAO,EAAC,QAAjB;AAA0B,MAAA,IAAI,EAAC,QAA/B;AAAwC,MAAA,QAAQ,EAAEF,SAAS,IAAI,CAACC,SAAhE;AAA2E,MAAA,KAAK,MAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAxCJ,CADJ,CADJ,CADJ,CADJ;AAmDH;;AA7HuC;;AA+H5C,eAAenB,UAAU,CAACS,aAAD,CAAzB","sourcesContent":["import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { FormGroup, FormControl, Button, Container, Row, Col, } from 'react-bootstrap';\r\nimport { NotificationManager } from 'react-notifications';\r\nimport { serviceConfig } from '../../AppSettings';\r\n\r\nclass AddAuditorium extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            auditoriumId: '',\r\n            museumId: '',\r\n            nameOfAuditorium: '',\r\n            numberOfSeats: '',\r\n            submitted: false,\r\n            canSubmit: true\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(e) {\r\n        const { id, value } = e.target;\r\n        this.setState({ [id]: value });\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.setState({ submitted: true });\r\n        const { numberOfSeats,  nameOfAuditorium } = this.state;\r\n        if (numberOfSeats && nameOfAuditorium) {\r\n            this.newAuditorium();\r\n        } else {\r\n            NotificationManager.error('Molim vas popunite polje.');\r\n            this.setState({ submitted: false });\r\n        }\r\n    }\r\n\r\n    newAuditorium() {\r\n        const {auditoriumId, nameOfAuditorium,  museumId, numberOfSeats } = this.state;\r\n        const data = {\r\n            AuditoriumId: +auditoriumId,\r\n            NameOfAuditorium: nameOfAuditorium,\r\n            MuseumId: +museumId,\r\n            NumberOfSeats: +numberOfSeats,\r\n            \r\n        };\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            \r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n\r\n        fetch(`${serviceConfig.baseURL}/api/auditoriums/post`, requestOptions)\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    return Promise.reject(response);\r\n                }\r\n                return response.statusText;\r\n            })\r\n            .then(result => {\r\n                NotificationManager.success('Uspešno je dodata nova sala!');\r\n                this.props.history.push('ShowAllAuditoriums');\r\n            })\r\n\r\n            .catch(response => {\r\n                NotificationManager.error(response.message || response.statusText);\r\n                this.setState({ submitted: false });\r\n            });\r\n    }\r\n\r\n\r\n    render() {\r\n        const {  numberOfSeats, submitted,  nameOfAuditorium, museumId, auditoriumId, canSubmit } = this.state;\r\n        return (\r\n            <Container>\r\n                <Row>\r\n                    <Col>\r\n                        <form onSubmit={this.handleSubmit}>\r\n                            <FormGroup>\r\n                                <FormControl\r\n                                    id=\"nameOfAuditorium\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"naziv sale\"\r\n                                    value={nameOfAuditorium}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </FormGroup>                         \r\n                            <FormGroup>\r\n                                <FormControl\r\n                                    id=\"numberOfSeats\"\r\n                                    type=\"number\"\r\n                                    placeholder=\"broj sedišta\"\r\n                                    value={numberOfSeats}\r\n                                    onChange={this.handleChange}\r\n                                    max=\"36\"\r\n                                />\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                                <FormControl\r\n                                    id=\"museumId\"\r\n                                    type=\"number\"\r\n                                    placeholder=\"id muzeja\"\r\n                                    value={museumId}\r\n                                    onChange={this.handleChange}\r\n                                    \r\n                                />\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                                <FormControl\r\n                                    id=\"auditoriumId\"\r\n                                    type=\"number\"\r\n                                    placeholder=\"id sale\"\r\n                                    value={auditoriumId}\r\n                                    onChange={this.handleChange}\r\n                                    \r\n                                />\r\n                            </FormGroup>\r\n                            <Button  variant=\"danger\" type=\"submit\" disabled={submitted || !canSubmit} block>Dodaj salu</Button>\r\n                        </form>\r\n                    </Col>\r\n                </Row>\r\n              \r\n            </Container>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(AddAuditorium);\r\n"]},"metadata":{},"sourceType":"module"}